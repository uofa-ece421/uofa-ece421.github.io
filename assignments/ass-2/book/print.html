<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Assignment #2</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="unit-testing.html"><strong aria-hidden="true">1.</strong> Unit Testing</a></li><li class="chapter-item expanded "><a href="question1.html"><strong aria-hidden="true">2.</strong> Question 1 (20 marks)</a></li><li class="chapter-item expanded "><a href="question2.html"><strong aria-hidden="true">3.</strong> Question 2 (20 marks)</a></li><li class="chapter-item expanded "><a href="question3.html"><strong aria-hidden="true">4.</strong> Question 3 (20 marks)</a></li><li class="chapter-item expanded "><a href="question4.html"><strong aria-hidden="true">5.</strong> Question 4 (20 marks)</a></li><li class="chapter-item expanded "><a href="question5.html"><strong aria-hidden="true">6.</strong> Question 5 (20 marks)</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="custom-header">
                  <img src="../theme/faculty-of-engineering.jpg" alt="engineering logo" style="height: 150px; padding: 10px;">
                </div>
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Assignment #2</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="unit-testing-in-rust"><a class="header" href="#unit-testing-in-rust">Unit Testing in RUST</a></h1>
<p>Tests in Rust
Rust supports writing software tests to ensure the correctness of the code. There are three styles for testing: Unit testing, Doc testing, and Integration testing. Moreover, Rust supports specifying Dev-dependencies. 
Tests are functions that are written to verify that the non-test code is running properly. The structure of a test function typically involves some setup, run the “non-test code” you wish to test, then assert whether the results are what we expect. 
Unit tests should be combined into a test mod with the #[cfg(test)] attribute. To define test functions, functions should be marked with the #[test] attribute before the function definition. For example, look at the following code:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn add(a: i32, b: i32) -&gt; i32 {
    a + b
}
// This is a really bad adding function
#[allow(dead_code)]
fn bad_add(a: i32, b: i32) -&gt; i32 {
    a - b
}


#[cfg(test)]
mod tests {
    // Note this useful idiom: importing names from outer scope.
    use super::*;
    #[test]
    fn test_add() {
        assert_eq!(add(1, 2), 3);
    }
    #[test]
    fn test_bad_add() {
        // This assert would fire and test will fail.
        // Please note, that private functions can be tested too!
        assert_eq!(bad_add(1, 2), 3);
    }
}
<span class="boring">}</span></code></pre></pre>
<p>Tests can be run with cargo test.</p>
<pre><code class="language-sh">$ cargo test


running 2 tests
test tests::test_bad_add ... FAILED
test tests::test_add ... ok


failures:
---- tests::test_bad_add stdout ----
        thread 'tests::test_bad_add' panicked at 'assertion failed: `(left == right)`
  left: `-1`,
 right: `3`', src/lib.rs:21:8
note: Run with `RUST_BACKTRACE=1` for a backtrace.


failures:
    tests::test_bad_add


test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="question-1-20-marks"><a class="header" href="#question-1-20-marks">Question 1 (20 marks)</a></h1>
<p>The application provides 4 test modules, <code>q1a</code>, <code>q1b</code>, <code>q1c</code>, and <code>q1d</code>. </p>
<ol>
<li>Implement the functionality defined by <code>q1a</code> to pass all the tests in this module.
Your task is to define the functions <code>add</code> and <code>subtract</code> in the <code>calculator.rs</code> file.</li>
<li>Running the tests in <code>q1b</code> will pass with no problems because there are no actual tests in the file.
Your task is to write the functionality defined by the tests (<code>multiply</code> and <code>divide</code> functions) and write the tests cases for your code to test these two functions.</li>
<li>Implement the functionality defined by <code>q1c</code> to pass all the tests in this module.
Your task is to define the function <code>get_square_root</code> in the <code>calculator.rs</code> file.
Then write the code for the four test functions defined in <code>q1c.rs</code>.</li>
<li>Implement the functionality defined by <code>q1d</code> to pass all the tests in this module.
Your task is to define the functions <code>get_roots</code> to calculate the roots for quadratic equations.
Then, you need to write the code for four tests functions defined in <code>q1d.rs</code>. </li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="question-2-20-marks"><a class="header" href="#question-2-20-marks">Question 2 (20 marks)</a></h1>
<p>Hamcrest is a framework for defining <code>match</code> rules and designing matcher objects.
When writing tests, it could be challenging to have the right balance between over-specifying the test (and making it brittle to changes), and not specifying enough (making the test less valuable since it continues to pass even when the thing being tested is broken). 
Having a tool that allows you to pick out precisely the aspect under test and describe the values it should have, to a controlled level of precision, helps significantly in writing tests that are “just right”. Such tests fail when the behavior of the aspect under test deviates from the expected behavior, yet continue to pass when minor, unrelated changes to the behavior are made.</p>
<p>Let us assume we have a struct for a player instance as follows:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Player {
    id: i32, 
    first_name: String,
    last_name: String,
}
<span class="boring">}</span></code></pre></pre>
<p>Use the Hamcrest framework (i.e. use the <code>hamcrest</code> crate) to write tests that assert that:</p>
<ol>
<li>The properties of <code>Player</code> called <code>last_name</code> and <code>first_name</code> are of type <code>String</code>.</li>
<li>Two Players created with the same <code>id</code> have the same first name and last name.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="question-3-20-marks"><a class="header" href="#question-3-20-marks">Question 3 (20 marks)</a></h1>
<p>Redo question 1 using the Hamcrest framework.
Use the <code>question3</code> directory of the template repository for your work.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="question-4-20-marks"><a class="header" href="#question-4-20-marks">Question 4 (20 marks)</a></h1>
<h2 id="combination-function-algorithm"><a class="header" href="#combination-function-algorithm">Combination Function Algorithm</a></h2>
<ol>
<li>Write a program that finds the value of the combination function, <code>c(a, b)</code> where <code>a</code> and <code>b</code> are both read as user input (Hint: you may need to use <code>io::stdin().read_line()</code>). The combination function is defined as:</li>
</ol>
<p>\[ c(a,b) = \frac{a!}{(a-b)!b!} \]</p>
<ol start="2">
<li>Write a test that ensures <code>a</code> is not smaller than <code>b</code>.</li>
<li>Write a test that ensures both <code>a</code> and <code>b</code> are positive integers (Hint: use <code>should_panic</code>)</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="question-5-20-marks"><a class="header" href="#question-5-20-marks">Question 5 (20 marks)</a></h1>
<p>Write a <code>tax()</code> function that calculates a persons taxed income based on the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Income</th><th>Tax Rate (%)</th></tr></thead><tbody>
<tr><td>0 ≤ income &lt; 10,000</td><td>0</td></tr>
<tr><td>10,000 ≤ income &lt;  50,000</td><td>10</td></tr>
<tr><td>50,000 ≤ income &lt;  100,000</td><td>20</td></tr>
<tr><td>100,000 ≤ income &lt;  1,000,000</td><td>30</td></tr>
<tr><td>Income ≥ 1,000,000</td><td>40</td></tr>
</tbody></table>
</div>
<p>The function should return the taxed income as:</p>
<p>\[ Taxed income = income - (income * tax rate) \]</p>
<p>Write tests that ensure that your code can handle the following error conditions (Hint: use <code>should_panic</code>):</p>
<ul>
<li>Income is a negative number.</li>
<li>Income is not an integer.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
